<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>결과 페이지 테스트</title>
    <style>
        .hidden { display: none !important; }
        .result-step { 
            border: 2px solid blue; 
            padding: 20px; 
            margin: 10px 0; 
            min-height: 200px;
        }
        .btn { 
            background: #007bff; 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>결과 페이지 5단계 테스트</h1>
    
    <div class="test-controls">
        <button class="btn" onclick="showResultStep(1)">1단계</button>
        <button class="btn" onclick="showResultStep(2)">2단계</button>
        <button class="btn" onclick="showResultStep(3)">3단계</button>
        <button class="btn" onclick="showResultStep(4)">4단계</button>
        <button class="btn" onclick="showResultStep(5)">5단계</button>
    </div>

    <div id="resultPage">
        <div class="result-step" id="resultStep1">
            <h2>1단계: 결과 헤더</h2>
            <p>감정 분석 결과의 메인 정보가 표시됩니다.</p>
            <button class="btn" onclick="showResultStep(2)">다음: 감정 분포도 보기</button>
        </div>

        <div class="result-step hidden" id="resultStep2">
            <h2>2단계: 감정 분포도</h2>
            <p>감정 분포 차트가 표시됩니다.</p>
            <button class="btn" onclick="showResultStep(1)">이전</button>
            <button class="btn" onclick="showResultStep(3)">다음: 상세 분석</button>
        </div>

        <div class="result-step hidden" id="resultStep3">
            <h2>3단계: 상세 분석</h2>
            <p>주요 감정과 숨겨진 감정 분석이 표시됩니다.</p>
            <button class="btn" onclick="showResultStep(2)">이전</button>
            <button class="btn" onclick="showResultStep(4)">다음: 맞춤형 조언</button>
        </div>

        <div class="result-step hidden" id="resultStep4">
            <h2>4단계: 맞춤형 조언</h2>
            <p>개인화된 조언과 팁이 표시됩니다.</p>
            <button class="btn" onclick="showResultStep(3)">이전</button>
            <button class="btn" onclick="showResultStep(5)">다음: 공유하기</button>
        </div>

        <div class="result-step hidden" id="resultStep5">
            <h2>5단계: 공유하기</h2>
            <p>결과 공유 및 추천 테스트가 표시됩니다.</p>
            <button class="btn" onclick="showResultStep(4)">이전</button>
            <button class="btn" onclick="alert('테스트 완료!')">완료</button>
        </div>
    </div>

    <script>
        // 결과 페이지 단계별 네비게이션 함수
        function showResultStep(step) {
            console.log('showResultStep called with step:', step);
            
            // 모든 결과 단계 숨기기
            for (let i = 1; i <= 5; i++) {
                const stepElement = document.getElementById(`resultStep${i}`);
                if (stepElement) {
                    stepElement.classList.add('hidden');
                }
            }
            
            // 선택된 단계 보이기
            const targetStep = document.getElementById(`resultStep${step}`);
            if (targetStep) {
                targetStep.classList.remove('hidden');
                console.log('Showing step:', step);
                window.scrollTo(0, 0);
            } else {
                console.error('Step element not found:', `resultStep${step}`);
            }
        }

        // 페이지 로드 시 1단계 표시
        document.addEventListener('DOMContentLoaded', function() {
            showResultStep(1);
        });
    </script>
</body>
</html>
